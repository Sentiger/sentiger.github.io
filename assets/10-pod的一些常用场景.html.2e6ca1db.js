import{_ as n}from"./plugin-vue_export-helper.21dcd24c.js";import{o as s,c as a,e}from"./app.0be84c95.js";const t={},l=e(`<h2 id="\u9759\u6001pod" tabindex="-1"><a class="header-anchor" href="#\u9759\u6001pod" aria-hidden="true">#</a> \u9759\u6001Pod</h2><p>\u9759\u6001Pod\u7684\u7279\u70B9\u5C31\u662F\u7531kubelet\u6765\u7BA1\u7406\uFF0CApiServer\u53EA\u80FD\u8FDB\u884C\u67E5\u770B\u3002\u901A\u8FC7\u8FD9\u4E2A\u7279\u70B9\u8BF4\u660E\u9759\u6001Pod\u5C31\u662F\u53EF\u4EE5\u6307\u5B9A\u7684Node\u4E0A\u8FD0\u884C\u670D\u52A1\uFF0C\u65E0\u9700\u7BA1\u7406\u8C03\u5EA6\u7B49\u5404\u79CD\u4FE1\u606F\u3002</p><p><strong>\u521B\u5EFA\u65B9\u6CD5</strong></p><p>\u5728kubelet\u542F\u52A8\u7684\u65F6\u5019\uFF0C\u4F1A\u6307\u5B9A\u542F\u52A8\u53C2\u6570 <code>staticPodPath:</code>\u5728\u8FD9\u4E2A\u76EE\u5F55\u4E0B\u5B9A\u4E49\u7684Pod\u90FD\u662F\u88AB<code>kubelet</code>\u7ED9\u7BA1\u7406\u7684\u3002\u5220\u9664\u9759\u6001Pod\u76F4\u63A5\u5220\u9664\u8BE5\u76EE\u5F55\u4E0B\u7684Pod\u6587\u4EF6\u5C31\u884C\u3002</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token comment"># kubelet \u542F\u52A8\u53C2\u6570\u6587\u4EF6</span>
<span class="token punctuation">..</span>.
staticPodPath: /etc/kubernetes/manifests
<span class="token punctuation">..</span>.
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>\u5E38\u7528\u573A\u666F</strong></p><p>\u4F7F\u7528<code>kubeadm</code> \u521B\u5EFA\u5355\u96C6\u7FA4\uFF0C\u9996\u5148\u662F\u8981\u5728\u4E3B\u673A\u4E0A\u5B89\u88C5<code>kubelet</code> \u7136\u540E\u5728\u5B89\u88C5\u5176\u4ED6\u7EC4\u4EF6\u3002\u5982<code>etcd</code>,<code>ApiServer</code>,<code>kube-controller</code>,<code>kube-scheduler</code></p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">[</span>root@web1 manifests<span class="token punctuation">]</span><span class="token comment"># ll</span>
total <span class="token number">16</span>
-rw------- <span class="token number">1</span> root root <span class="token number">1857</span> Jun <span class="token number">20</span> <span class="token number">17</span>:04 etcd.yaml
-rw------- <span class="token number">1</span> root root <span class="token number">2729</span> Jun <span class="token number">20</span> <span class="token number">17</span>:04 kube-apiserver.yaml
-rw------- <span class="token number">1</span> root root <span class="token number">2594</span> Jun <span class="token number">20</span> <span class="token number">17</span>:04 kube-controller-manager.yaml
-rw------- <span class="token number">1</span> root root <span class="token number">1149</span> Jun <span class="token number">20</span> <span class="token number">17</span>:04 kube-scheduler.yaml
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="daemonset" tabindex="-1"><a class="header-anchor" href="#daemonset" aria-hidden="true">#</a> DaemonSet</h2><p><code>DaemonSet</code>\u662F\u4E00\u4E2A\u63A7\u5236\u5668 \uFF0C\u7528\u6765\u7BA1\u7406Pod\u7684\uFF0C\u4F5C\u7528\u662F\u786E\u4FDD\u6BCF\u4E2A\u8282\u70B9\u4E0A\u90FD\u8FD0\u884C\u4E00\u4E2APod\u3002\u5F53\u6709\u65B0\u7684Node\u6DFB\u52A0\u5230\u96C6\u7FA4\uFF0C\u8BE5Node\u4F1A\u4E0A\u4F1A\u81EA\u52A8\u542F\u52A8\u6539Pod\u3002</p><p><strong>\u521B\u5EFA\u65B9\u6CD5</strong></p><p>\u5C31\u662F\u4F7F\u7528DamonSet\u63A7\u5236\u5668\u6765\u521B\u5EFA</p><div class="language-yaml ext-yml line-numbers-mode"><pre class="language-yaml"><code><span class="token key atrule">apiVersion</span><span class="token punctuation">:</span> apps/v1
<span class="token key atrule">kind</span><span class="token punctuation">:</span> DaemonSet
<span class="token key atrule">metadata</span><span class="token punctuation">:</span>
  <span class="token key atrule">name</span><span class="token punctuation">:</span> dammonset<span class="token punctuation">-</span>test
  <span class="token key atrule">namespace</span><span class="token punctuation">:</span> default
  <span class="token key atrule">labels</span><span class="token punctuation">:</span>
    <span class="token key atrule">app</span><span class="token punctuation">:</span> demon<span class="token punctuation">-</span>test
<span class="token key atrule">spec</span><span class="token punctuation">:</span>
  <span class="token key atrule">selector</span><span class="token punctuation">:</span>
    <span class="token key atrule">matchLabels</span><span class="token punctuation">:</span>
      <span class="token key atrule">name</span><span class="token punctuation">:</span> ngx<span class="token punctuation">-</span>daemon
  <span class="token key atrule">template</span><span class="token punctuation">:</span>
    <span class="token key atrule">metadata</span><span class="token punctuation">:</span>
      <span class="token key atrule">labels</span><span class="token punctuation">:</span>
        <span class="token key atrule">name</span><span class="token punctuation">:</span> ngx<span class="token punctuation">-</span>daemon
    <span class="token key atrule">spec</span><span class="token punctuation">:</span>
      <span class="token key atrule">containers</span><span class="token punctuation">:</span>
        <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> ngx<span class="token punctuation">-</span>d
          <span class="token key atrule">image</span><span class="token punctuation">:</span> nginx<span class="token punctuation">:</span>1.18<span class="token punctuation">-</span>alpine
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>\u5E38\u7528\u573A\u666F</strong></p><ul><li>\u6BCF\u4E2A\u8282\u70B9\u4E0A\u8FD0\u884C\u4E00\u4E2A\u5B88\u62A4\u8FDB\u7A0B</li><li>\u641C\u96C6\u6BCF\u4E2A\u8282\u70B9\u4E0A\u7684\u65E5\u5FD7</li><li>\u76D1\u63A7\u8282\u70B9\u72B6\u6001</li><li>\u4F8B\u5982\u4E5F\u53EF\u4EE5\u5728\u4F7F\u7528<code>ingress-controller</code>\u7684\u65F6\u5019\uFF0C\u4F1A\u5728\u6BCF\u4E2A\u8282\u70B9\u4E0A\u90FD\u5B89\u88C5\u4E00\u4E2A</li><li><code>kubeadm</code> \u5B89\u88C5\u96C6\u7FA4\u7684\u65F6\u5019\uFF0C\u6BCF\u4E2A\u8282\u70B9\u9700\u8981\u5B89\u88C5<code>kube-proxy</code>,CNI\u7F51\u7EDC\u63D2\u4EF6\u7684\u5B9E\u73B0\u5982:<code>flannel</code></li></ul>`,15),o=[l];function p(c,i){return s(),a("div",null,o)}var r=n(t,[["render",p],["__file","10-pod\u7684\u4E00\u4E9B\u5E38\u7528\u573A\u666F.html.vue"]]);export{r as default};
