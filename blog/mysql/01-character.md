---
title: 字符集
order: 1
category:
  - MySQL
---

字符集其实就是如何表示字符的一种规范。计算机中一切都是规范。字符集就是用来收集字符的一种集合，GBK，ASICC等各种字符集。这里我们将Unicode字符集

## Unicode字符集

为了实现计算机统一，将世界上各个国家的字符都收集在一起，这个称为Unicode字符集，其实就是为每个字符定一个编码，因为计算机中只有二进制，最终表达就是编码和解码的过程

### Unicode字符集实现

Unicode是所有的字符集合，是一种规范，所以针对这个规范可以有不同的存储方式，例如可以每个字符设置等长的字节，这种最方便，但是浪费空间，所以从而产生了不同的实现方式。
例如有utf8,utf16等各种编码方式

## MySQL中字符集

新手最容易出现的一个问题就是查询乱码，要么查询出来结果乱码，要么保存到数据表中出现乱码。这个是什么问题：

其实产生这个问题就是编码解码方式不一致导致的！

**MySQL查询到输出过程**

MySQL中有三个变量用来规定字符的编码与解码过程

```
1. 客户端字符集: character_set_client
这是客户端发送数据到服务端使用的字符集

2. server转换： character_set_connection
这个是从客户端收到数据之后，server将character_set_client 转换为内部字符编码，感觉没啥用，直接保持一致就好了，还不浪费编码解码时间

3. 输出结果字符集：character_set_results
当查询结果发送给客户端的时候，这个时候以什么样的字符集发送给客户端，此时要和character_set_client一致，否则不就出现乱码了吗

```

**统一字符集**

一般客户端连接的时候，就会统一字符集，根据客户端的字符集来统一设置上面三个变量。

```sql
set character_set_client = utf8
set character_set_connection = utf8
set character_set_results = utf8

或者直接使用一条命令
set names = utf8

```

## 比较规则
MySQL中有了存储的字符集，还有一种就是针对这种字符集如何比较大小的一套规则，collation

这个就是来规定如何比较字符串的，例如区分大小写比较，以字符的二进制比较，每个国家的比较等各种形式，这个也是最终在MySQL中查询的时候会用到

**特点**
1. 比较规则是根据字符集来规定的，字符集不同，比较规则会不同
2. utf8_general_ci
   1. utf8是字符集
   2. general是一种比较规则
   3. ci是不区分大小写（cs是区分大小写）

3. 还有一些其他的规则，具体看情况来使用





