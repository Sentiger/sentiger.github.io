<!DOCTYPE html>
<html lang="zh-CN" data-theme="light">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="VuePress 2.0.0-beta.46" />
    <meta name="theme" content="VuePress Theme Hope" />
    <meta property="og:url" content="http://blog.sentiger.com/grpc/get-started/00-protoc.html"><meta property="og:site_name" content="不完全记忆"><meta property="og:title" content="protoc命令"><meta property="og:type" content="article"><meta property="og:updated_time" content="2023-03-09T09:41:01.000Z"><meta property="og:locale" content="zh-CN"><meta property="article:modified_time" content="2023-03-09T09:41:01.000Z"><title>protoc命令 | 不完全记忆</title><meta name="description" content="bolg，k8s，go，grpc">
    <style>
      :root {
        --bg-color: #fff;
      }

      html[data-theme="dark"] {
        --bg-color: #1d2025;
      }

      html,
      body {
        background-color: var(--bg-color);
      }
    </style>
    <script>
      const userMode = localStorage.getItem("vuepress-theme-hope-scheme");
      const systemDarkMode =
        window.matchMedia &&
        window.matchMedia("(prefers-color-scheme: dark)").matches;

      if (userMode === "dark" || (userMode !== "light" && systemDarkMode)) {
        document.querySelector("html").setAttribute("data-theme", "dark");
      }
    </script>
    <link rel="stylesheet" href="/assets/style.33f62c06.css">
    <link rel="modulepreload" href="/assets/app.03f8d544.js"><link rel="modulepreload" href="/assets/00-protoc.html.29eaffff.js"><link rel="modulepreload" href="/assets/plugin-vue_export-helper.21dcd24c.js"><link rel="modulepreload" href="/assets/00-protoc.html.175822d6.js"><link rel="prefetch" href="/assets/index.html.9d63f2ae.js"><link rel="prefetch" href="/assets/home.html.d078b815.js"><link rel="prefetch" href="/assets/slide.html.2cbdb642.js"><link rel="prefetch" href="/assets/index.html.03e3056a.js"><link rel="prefetch" href="/assets/index.html.656b3116.js"><link rel="prefetch" href="/assets/index.html.a94e4123.js"><link rel="prefetch" href="/assets/01-character.html.3bc13882.js"><link rel="prefetch" href="/assets/02-row.html.06f3898b.js"><link rel="prefetch" href="/assets/03-innodb-page.html.a3af483f.js"><link rel="prefetch" href="/assets/04-innodb-表结构和单表查询类型.html.efb37220.js"><link rel="prefetch" href="/assets/05-连接查询.html.db8e9d17.js"><link rel="prefetch" href="/assets/06-统计表.html.5725e5e1.js"><link rel="prefetch" href="/assets/07-子查询.html.0ede90fd.js"><link rel="prefetch" href="/assets/08-explain.html.518f377e.js"><link rel="prefetch" href="/assets/09-bufferpool.html.ac058fcf.js"><link rel="prefetch" href="/assets/10-事物.html.7a955ac9.js"><link rel="prefetch" href="/assets/100-自建MySql及优化.html.3480b3c9.js"><link rel="prefetch" href="/assets/101-常见查询.html.5c931ba6.js"><link rel="prefetch" href="/assets/11-redo日志.html.5e744788.js"><link rel="prefetch" href="/assets/12-undo日志.html.940af23f.js"><link rel="prefetch" href="/assets/13-MVCC.html.31a4f9c9.js"><link rel="prefetch" href="/assets/index.html.cf9fbaa5.js"><link rel="prefetch" href="/assets/01-go连接php-fpm.html.89a1eb02.js"><link rel="prefetch" href="/assets/02-openssl.html.29a171f4.js"><link rel="prefetch" href="/assets/03-git.html.ddef787e.js"><link rel="prefetch" href="/assets/04-nginx-tcp.html.6f6eeef6.js"><link rel="prefetch" href="/assets/05-http.html.dbd616fa.js"><link rel="prefetch" href="/assets/06-三剑客.html.b96c3572.js"><link rel="prefetch" href="/assets/10-mac环境重装.html.1ca985bc.js"><link rel="prefetch" href="/assets/11-win-vm.html.e56b7c80.js"><link rel="prefetch" href="/assets/12-公司环境迁移.html.a112d475.js"><link rel="prefetch" href="/assets/20-单词积累.html.518c8d50.js"><link rel="prefetch" href="/assets/22-协议.html.544ff227.js"><link rel="prefetch" href="/assets/30-laravel-queue.html.ab72889c.js"><link rel="prefetch" href="/assets/40-ES.html.d132e7c6.js"><link rel="prefetch" href="/assets/index.html.4dbef015.js"><link rel="prefetch" href="/assets/01-channel关闭.html.74d4fd3e.js"><link rel="prefetch" href="/assets/02-进制.html.9fa54b05.js"><link rel="prefetch" href="/assets/03-epoll.html.4d16c01a.js"><link rel="prefetch" href="/assets/04-proxy.html.8670220c.js"><link rel="prefetch" href="/assets/05-代理.html.dafa1417.js"><link rel="prefetch" href="/assets/10-汇编.html.17366fee.js"><link rel="prefetch" href="/assets/100-http2.html.574a2e78.js"><link rel="prefetch" href="/assets/101-list-watch.html.77e2e818.js"><link rel="prefetch" href="/assets/102-面试.html.3f458428.js"><link rel="prefetch" href="/assets/11-go汇编.html.7277c980.js"><link rel="prefetch" href="/assets/20-string.html.ae6b546c.js"><link rel="prefetch" href="/assets/21-slice.html.0f73fefd.js"><link rel="prefetch" href="/assets/22-stuct-内存对齐.html.4e2fed7b.js"><link rel="prefetch" href="/assets/23-函数栈.html.dda2e14a.js"><link rel="prefetch" href="/assets/24-闭包.html.3cff62cc.js"><link rel="prefetch" href="/assets/25-context.html.2292bc99.js"><link rel="prefetch" href="/assets/index.html.64f4bfd5.js"><link rel="prefetch" href="/assets/01-option.html.73ace461.js"><link rel="prefetch" href="/assets/02-建造者模式.html.016fd384.js"><link rel="prefetch" href="/assets/index.html.330413ac.js"><link rel="prefetch" href="/assets/00-buf.html.8db75def.js"><link rel="prefetch" href="/assets/01-protoc-gen-go.html.fc8e4fdd.js"><link rel="prefetch" href="/assets/02-grpc-install.html.0a2c2e10.js"><link rel="prefetch" href="/assets/03-wireshark.html.f4fbdcfd.js"><link rel="prefetch" href="/assets/index.html.248afb0f.js"><link rel="prefetch" href="/assets/01-introduction.html.2946ae26.js"><link rel="prefetch" href="/assets/02-一元.html.d9017f95.js"><link rel="prefetch" href="/assets/03-服务端流.html.53ad32ea.js"><link rel="prefetch" href="/assets/04-客户端流.html.e93ce014.js"><link rel="prefetch" href="/assets/index.html.74e0f5b2.js"><link rel="prefetch" href="/assets/01-start.html.cf8e98b6.js"><link rel="prefetch" href="/assets/02-filter-chains.html.d2804eb1.js"><link rel="prefetch" href="/assets/03-fornt-https.html.2a168eea.js"><link rel="prefetch" href="/assets/index.html.3765bfe5.js"><link rel="prefetch" href="/assets/01-简单CICD.html.f9dd27ce.js"><link rel="prefetch" href="/assets/02-kube-proxy模拟.html.e2e7149b.js"><link rel="prefetch" href="/assets/10-pod的一些常用场景.html.5a5b87de.js"><link rel="prefetch" href="/assets/20-etcd-cluster.html.9eb73f27.js"><link rel="prefetch" href="/assets/30-面试.html.cc53b5b0.js"><link rel="prefetch" href="/assets/index.html.f6eebac2.js"><link rel="prefetch" href="/assets/01-pod.html.1909b16d.js"><link rel="prefetch" href="/assets/02-deployment-rs.html.3c040a10.js"><link rel="prefetch" href="/assets/03-service.html.0972189e.js"><link rel="prefetch" href="/assets/04-ingress-nginx.html.436b208b.js"><link rel="prefetch" href="/assets/05-动态准入控制器.html.8449b28b.js"><link rel="prefetch" href="/assets/06-kustomize.html.a097ba10.js"><link rel="prefetch" href="/assets/07-CRD.html.63be1adf.js"><link rel="prefetch" href="/assets/10-api-auth.html.3cc81a73.js"><link rel="prefetch" href="/assets/11-istio.html.dc3815a9.js"><link rel="prefetch" href="/assets/12-istio-bookinfo.html.1abd2f8f.js"><link rel="prefetch" href="/assets/index.html.2e464ac1.js"><link rel="prefetch" href="/assets/01-重要目录.html.d861941d.js"><link rel="prefetch" href="/assets/02-标准输出入错误.html.db1d2d71.js"><link rel="prefetch" href="/assets/03-iptables-案例.html.9f36e0c1.js"><link rel="prefetch" href="/assets/03-iptables.html.7ee7f1e3.js"><link rel="prefetch" href="/assets/03-ipvs.html.3dd49f81.js"><link rel="prefetch" href="/assets/04-磁盘存储概述.html.f3b6e66c.js"><link rel="prefetch" href="/assets/05-内存理解.html.0fc73892.js"><link rel="prefetch" href="/assets/06-虚拟IP.html.4e0f1268.js"><link rel="prefetch" href="/assets/07-route.html.19475fca.js"><link rel="prefetch" href="/assets/08-linux内核参数.html.14b5c1d2.js"><link rel="prefetch" href="/assets/10-lvs.html.39d458fe.js"><link rel="prefetch" href="/assets/11-k8s-ipvs.html.f0a85a70.js"><link rel="prefetch" href="/assets/12-wireshark-https.html.17e793dd.js"><link rel="prefetch" href="/assets/index.html.96ad4ef3.js"><link rel="prefetch" href="/assets/01-start.html.0a1f458e.js"><link rel="prefetch" href="/assets/index.html.3a4e34e0.js"><link rel="prefetch" href="/assets/01-docker自定义网络.html.4e5a4475.js"><link rel="prefetch" href="/assets/02-局域网内访问docker容器.html.eda3d946.js"><link rel="prefetch" href="/assets/03-docker大二层网络通信.html.d9693bb5.js"><link rel="prefetch" href="/assets/04-vxlan应用.html.7fbf398c.js"><link rel="prefetch" href="/assets/05-flannel-docker.html.adc9eb35.js"><link rel="prefetch" href="/assets/06-flannel-vxlan.html.0a1350a4.js"><link rel="prefetch" href="/assets/10-docker安装.html.07e94317.js"><link rel="prefetch" href="/assets/11-k8s安装-kubeadm.html.a37b8682.js"><link rel="prefetch" href="/assets/12-k8s-1-24-安装-kubeadm.html.c5207059.js"><link rel="prefetch" href="/assets/20-OCI-CRI.html.36d28846.js"><link rel="prefetch" href="/assets/21-CNI.html.07e9a262.js"><link rel="prefetch" href="/assets/30-protocol.html.73be4944.js"><link rel="prefetch" href="/assets/index.html.c936ca97.js"><link rel="prefetch" href="/assets/404.html.a181930b.js"><link rel="prefetch" href="/assets/index.html.9a2d1655.js"><link rel="prefetch" href="/assets/index.html.9aa058e3.js"><link rel="prefetch" href="/assets/index.html.5b7241d1.js"><link rel="prefetch" href="/assets/index.html.d1db442b.js"><link rel="prefetch" href="/assets/index.html.af831944.js"><link rel="prefetch" href="/assets/index.html.6bcc2d59.js"><link rel="prefetch" href="/assets/index.html.d1549ca7.js"><link rel="prefetch" href="/assets/index.html.20ab2531.js"><link rel="prefetch" href="/assets/index.html.0054ca09.js"><link rel="prefetch" href="/assets/index.html.ad5db212.js"><link rel="prefetch" href="/assets/index.html.6f0ddba0.js"><link rel="prefetch" href="/assets/index.html.40467ea7.js"><link rel="prefetch" href="/assets/index.html.365be6ed.js"><link rel="prefetch" href="/assets/index.html.5b971f05.js"><link rel="prefetch" href="/assets/index.html.754c2634.js"><link rel="prefetch" href="/assets/index.html.ffba8c0b.js"><link rel="prefetch" href="/assets/index.html.159242a1.js"><link rel="prefetch" href="/assets/index.html.94b432ec.js"><link rel="prefetch" href="/assets/index.html.4de3a7cb.js"><link rel="prefetch" href="/assets/index.html.ec40b74e.js"><link rel="prefetch" href="/assets/index.html.fb98d79f.js"><link rel="prefetch" href="/assets/index.html.3c799900.js"><link rel="prefetch" href="/assets/index.html.e52bc7e5.js"><link rel="prefetch" href="/assets/index.html.be07c574.js"><link rel="prefetch" href="/assets/index.html.165d9100.js"><link rel="prefetch" href="/assets/index.html.b41553e3.js"><link rel="prefetch" href="/assets/index.html.f5179afd.js"><link rel="prefetch" href="/assets/index.html.a8137734.js"><link rel="prefetch" href="/assets/index.html.1bb3755c.js"><link rel="prefetch" href="/assets/index.html.7e70f46e.js"><link rel="prefetch" href="/assets/index.html.47da985f.js"><link rel="prefetch" href="/assets/index.html.513dd354.js"><link rel="prefetch" href="/assets/index.html.db1578cf.js"><link rel="prefetch" href="/assets/index.html.4623aa35.js"><link rel="prefetch" href="/assets/index.html.68b289a4.js"><link rel="prefetch" href="/assets/index.html.0ce58fd0.js"><link rel="prefetch" href="/assets/index.html.75e84d0b.js"><link rel="prefetch" href="/assets/index.html.5310b35a.js"><link rel="prefetch" href="/assets/index.html.0f9b9801.js"><link rel="prefetch" href="/assets/index.html.42f754a6.js"><link rel="prefetch" href="/assets/home.html.89d349ad.js"><link rel="prefetch" href="/assets/slide.html.529d46f1.js"><link rel="prefetch" href="/assets/index.html.6ea9e8d7.js"><link rel="prefetch" href="/assets/index.html.1013a101.js"><link rel="prefetch" href="/assets/index.html.8d9cb80e.js"><link rel="prefetch" href="/assets/01-character.html.bab069aa.js"><link rel="prefetch" href="/assets/02-row.html.13dc3ae0.js"><link rel="prefetch" href="/assets/03-innodb-page.html.6617190b.js"><link rel="prefetch" href="/assets/04-innodb-表结构和单表查询类型.html.7f184381.js"><link rel="prefetch" href="/assets/05-连接查询.html.09c76ecf.js"><link rel="prefetch" href="/assets/06-统计表.html.306366a5.js"><link rel="prefetch" href="/assets/07-子查询.html.7f1568aa.js"><link rel="prefetch" href="/assets/08-explain.html.5386a204.js"><link rel="prefetch" href="/assets/09-bufferpool.html.186b1917.js"><link rel="prefetch" href="/assets/10-事物.html.f6adfe9f.js"><link rel="prefetch" href="/assets/100-自建MySql及优化.html.b30d6374.js"><link rel="prefetch" href="/assets/101-常见查询.html.119f8aca.js"><link rel="prefetch" href="/assets/11-redo日志.html.2bc1023d.js"><link rel="prefetch" href="/assets/12-undo日志.html.ce24b738.js"><link rel="prefetch" href="/assets/13-MVCC.html.f1721648.js"><link rel="prefetch" href="/assets/index.html.cebe2304.js"><link rel="prefetch" href="/assets/01-go连接php-fpm.html.8b8eb2f5.js"><link rel="prefetch" href="/assets/02-openssl.html.b2d89ca9.js"><link rel="prefetch" href="/assets/03-git.html.a1de4e4c.js"><link rel="prefetch" href="/assets/04-nginx-tcp.html.69e0c3a4.js"><link rel="prefetch" href="/assets/05-http.html.92080b48.js"><link rel="prefetch" href="/assets/06-三剑客.html.48018a1c.js"><link rel="prefetch" href="/assets/10-mac环境重装.html.6fde4bfc.js"><link rel="prefetch" href="/assets/11-win-vm.html.6e38804d.js"><link rel="prefetch" href="/assets/12-公司环境迁移.html.b2c06654.js"><link rel="prefetch" href="/assets/20-单词积累.html.8654a974.js"><link rel="prefetch" href="/assets/22-协议.html.bdc7bd7a.js"><link rel="prefetch" href="/assets/30-laravel-queue.html.dec64f69.js"><link rel="prefetch" href="/assets/40-ES.html.23015262.js"><link rel="prefetch" href="/assets/index.html.595c1f10.js"><link rel="prefetch" href="/assets/01-channel关闭.html.5058a1ee.js"><link rel="prefetch" href="/assets/02-进制.html.590ee38d.js"><link rel="prefetch" href="/assets/03-epoll.html.69d652e4.js"><link rel="prefetch" href="/assets/04-proxy.html.3f929c59.js"><link rel="prefetch" href="/assets/05-代理.html.621ccc2f.js"><link rel="prefetch" href="/assets/10-汇编.html.0d849019.js"><link rel="prefetch" href="/assets/100-http2.html.ba5ec9c0.js"><link rel="prefetch" href="/assets/101-list-watch.html.f14d1d06.js"><link rel="prefetch" href="/assets/102-面试.html.8998f088.js"><link rel="prefetch" href="/assets/11-go汇编.html.6fb9329e.js"><link rel="prefetch" href="/assets/20-string.html.0be3d07f.js"><link rel="prefetch" href="/assets/21-slice.html.7b1185b4.js"><link rel="prefetch" href="/assets/22-stuct-内存对齐.html.4bcf6541.js"><link rel="prefetch" href="/assets/23-函数栈.html.c0bc19ce.js"><link rel="prefetch" href="/assets/24-闭包.html.887df3ba.js"><link rel="prefetch" href="/assets/25-context.html.d15b066a.js"><link rel="prefetch" href="/assets/index.html.2c0935c5.js"><link rel="prefetch" href="/assets/01-option.html.3c3f89be.js"><link rel="prefetch" href="/assets/02-建造者模式.html.1a82d812.js"><link rel="prefetch" href="/assets/index.html.59b84873.js"><link rel="prefetch" href="/assets/00-buf.html.1afc8555.js"><link rel="prefetch" href="/assets/01-protoc-gen-go.html.a0814fdc.js"><link rel="prefetch" href="/assets/02-grpc-install.html.dabc7853.js"><link rel="prefetch" href="/assets/03-wireshark.html.03697b9c.js"><link rel="prefetch" href="/assets/index.html.d8ba912f.js"><link rel="prefetch" href="/assets/01-introduction.html.086a67d5.js"><link rel="prefetch" href="/assets/02-一元.html.7d073634.js"><link rel="prefetch" href="/assets/03-服务端流.html.43ce113a.js"><link rel="prefetch" href="/assets/04-客户端流.html.ddae980a.js"><link rel="prefetch" href="/assets/index.html.be8344d2.js"><link rel="prefetch" href="/assets/01-start.html.e9caf32c.js"><link rel="prefetch" href="/assets/02-filter-chains.html.2d587a2c.js"><link rel="prefetch" href="/assets/03-fornt-https.html.3122a0f0.js"><link rel="prefetch" href="/assets/index.html.1a4360da.js"><link rel="prefetch" href="/assets/01-简单CICD.html.fc84593d.js"><link rel="prefetch" href="/assets/02-kube-proxy模拟.html.bccce9cb.js"><link rel="prefetch" href="/assets/10-pod的一些常用场景.html.a48b14a0.js"><link rel="prefetch" href="/assets/20-etcd-cluster.html.50cbbebc.js"><link rel="prefetch" href="/assets/30-面试.html.3866f53a.js"><link rel="prefetch" href="/assets/index.html.5e204ab7.js"><link rel="prefetch" href="/assets/01-pod.html.9c122d20.js"><link rel="prefetch" href="/assets/02-deployment-rs.html.f7553acc.js"><link rel="prefetch" href="/assets/03-service.html.51fdaf23.js"><link rel="prefetch" href="/assets/04-ingress-nginx.html.56662ecf.js"><link rel="prefetch" href="/assets/05-动态准入控制器.html.51a92535.js"><link rel="prefetch" href="/assets/06-kustomize.html.cb85317a.js"><link rel="prefetch" href="/assets/07-CRD.html.5f7ce12d.js"><link rel="prefetch" href="/assets/10-api-auth.html.e886e067.js"><link rel="prefetch" href="/assets/11-istio.html.83960898.js"><link rel="prefetch" href="/assets/12-istio-bookinfo.html.e397bbb5.js"><link rel="prefetch" href="/assets/index.html.fb0a5c5c.js"><link rel="prefetch" href="/assets/01-重要目录.html.27bd0cb0.js"><link rel="prefetch" href="/assets/02-标准输出入错误.html.8d12444f.js"><link rel="prefetch" href="/assets/03-iptables-案例.html.02326785.js"><link rel="prefetch" href="/assets/03-iptables.html.d6281500.js"><link rel="prefetch" href="/assets/03-ipvs.html.c1135d32.js"><link rel="prefetch" href="/assets/04-磁盘存储概述.html.27bc6945.js"><link rel="prefetch" href="/assets/05-内存理解.html.38abb1ed.js"><link rel="prefetch" href="/assets/06-虚拟IP.html.c15bddd6.js"><link rel="prefetch" href="/assets/07-route.html.071df3f2.js"><link rel="prefetch" href="/assets/08-linux内核参数.html.5459e2ee.js"><link rel="prefetch" href="/assets/10-lvs.html.0c83ceb0.js"><link rel="prefetch" href="/assets/11-k8s-ipvs.html.2aa78927.js"><link rel="prefetch" href="/assets/12-wireshark-https.html.21237dae.js"><link rel="prefetch" href="/assets/index.html.e6aede99.js"><link rel="prefetch" href="/assets/01-start.html.78d6df67.js"><link rel="prefetch" href="/assets/index.html.189f8ed4.js"><link rel="prefetch" href="/assets/01-docker自定义网络.html.95eb9feb.js"><link rel="prefetch" href="/assets/02-局域网内访问docker容器.html.b05d6edd.js"><link rel="prefetch" href="/assets/03-docker大二层网络通信.html.9f053feb.js"><link rel="prefetch" href="/assets/04-vxlan应用.html.be60e0ee.js"><link rel="prefetch" href="/assets/05-flannel-docker.html.97edc8d1.js"><link rel="prefetch" href="/assets/06-flannel-vxlan.html.a680fbdf.js"><link rel="prefetch" href="/assets/10-docker安装.html.b7e1a436.js"><link rel="prefetch" href="/assets/11-k8s安装-kubeadm.html.dafa1b39.js"><link rel="prefetch" href="/assets/12-k8s-1-24-安装-kubeadm.html.baf4f7b3.js"><link rel="prefetch" href="/assets/20-OCI-CRI.html.4ebf9c7d.js"><link rel="prefetch" href="/assets/21-CNI.html.11c74ccb.js"><link rel="prefetch" href="/assets/30-protocol.html.59247573.js"><link rel="prefetch" href="/assets/index.html.ecf791c8.js"><link rel="prefetch" href="/assets/404.html.b3e73368.js"><link rel="prefetch" href="/assets/index.html.adb95eeb.js"><link rel="prefetch" href="/assets/index.html.a1783376.js"><link rel="prefetch" href="/assets/index.html.95c07da7.js"><link rel="prefetch" href="/assets/index.html.185947d1.js"><link rel="prefetch" href="/assets/index.html.a2eda19e.js"><link rel="prefetch" href="/assets/index.html.5b0be670.js"><link rel="prefetch" href="/assets/index.html.688d9df5.js"><link rel="prefetch" href="/assets/index.html.48ffd6fa.js"><link rel="prefetch" href="/assets/index.html.87e03eee.js"><link rel="prefetch" href="/assets/index.html.eca97ac1.js"><link rel="prefetch" href="/assets/index.html.986f82b1.js"><link rel="prefetch" href="/assets/index.html.cb070abe.js"><link rel="prefetch" href="/assets/index.html.bd7adb8c.js"><link rel="prefetch" href="/assets/index.html.3f948127.js"><link rel="prefetch" href="/assets/index.html.041009b5.js"><link rel="prefetch" href="/assets/index.html.081326e9.js"><link rel="prefetch" href="/assets/index.html.45af9cf9.js"><link rel="prefetch" href="/assets/index.html.37b48216.js"><link rel="prefetch" href="/assets/index.html.481fa11f.js"><link rel="prefetch" href="/assets/index.html.3d4a664a.js"><link rel="prefetch" href="/assets/index.html.255942ad.js"><link rel="prefetch" href="/assets/index.html.8db16c6c.js"><link rel="prefetch" href="/assets/index.html.c4d07eea.js"><link rel="prefetch" href="/assets/index.html.45c931ee.js"><link rel="prefetch" href="/assets/index.html.c5171455.js"><link rel="prefetch" href="/assets/index.html.4e76b5d6.js"><link rel="prefetch" href="/assets/index.html.9c43db60.js"><link rel="prefetch" href="/assets/index.html.3876133d.js"><link rel="prefetch" href="/assets/index.html.3e322e8b.js"><link rel="prefetch" href="/assets/index.html.d93a375e.js"><link rel="prefetch" href="/assets/index.html.ae6bc1f7.js"><link rel="prefetch" href="/assets/index.html.9ce9c668.js"><link rel="prefetch" href="/assets/index.html.87b4686d.js"><link rel="prefetch" href="/assets/index.html.a1a5e349.js"><link rel="prefetch" href="/assets/index.html.da9aa9ac.js"><link rel="prefetch" href="/assets/index.html.ca8c13bb.js"><link rel="prefetch" href="/assets/index.html.7129a06e.js"><link rel="prefetch" href="/assets/index.html.3242a28f.js"><link rel="prefetch" href="/assets/index.html.cc056480.js"><link rel="prefetch" href="/assets/404.47bcc2da.js"><link rel="prefetch" href="/assets/Layout.96633e3b.js"><link rel="prefetch" href="/assets/Slide.75922151.js"><link rel="prefetch" href="/assets/Blog.95057f22.js"><link rel="prefetch" href="/assets/auto.esm.36809f22.js"><link rel="prefetch" href="/assets/index.308e684a.js"><link rel="prefetch" href="/assets/index.1842ee54.js"><link rel="prefetch" href="/assets/mermaid.esm.min.95aabeb7.js"><link rel="prefetch" href="/assets/highlight.esm.d982e650.js"><link rel="prefetch" href="/assets/markdown.esm.832a189d.js"><link rel="prefetch" href="/assets/math.esm.a3f84b6f.js"><link rel="prefetch" href="/assets/notes.esm.3c361cb7.js"><link rel="prefetch" href="/assets/reveal.esm.b96f05d8.js"><link rel="prefetch" href="/assets/search.esm.80da4a02.js"><link rel="prefetch" href="/assets/zoom.esm.8514a202.js"><link rel="prefetch" href="/assets/photoswipe.esm.92018b73.js">
  </head>
  <body>
    <div id="app"><!--[--><!--[--><!--[--><span tabindex="-1"></span><a href="#main-content" class="skip-link sr-only">Skip to content</a><!--]--><div class="theme-container has-toc"><!--[--><!--[--><header class="navbar"><button class="toggle-sidebar-button" title="Toggle Sidebar"><span class="icon"></span></button><a href="/" class="home-link"><img class="logo" src="/logo.jpeg" alt="不完全记忆"><!----><span class="site-name hide-in-pad">不完全记忆</span><!--[--><!----><!--]--></a><nav class="nav-links" style=""><div class="nav-item hide-in-mobile"><a href="/" class="nav-link" aria-label="主页"><span class="icon iconfont icon-home" style=""></span>主页<!----></a></div><div class="nav-item hide-in-mobile"><a href="/grpc/" class="nav-link active" aria-label="gRPC"><span class="icon iconfont icon-api" style=""></span>gRPC<!----></a></div><div class="nav-item hide-in-mobile"><a href="/k8s/" class="nav-link" aria-label="k8s"><span class="icon iconfont icon-class" style=""></span>k8s<!----></a></div><div class="nav-item hide-in-mobile"><a href="/go/" class="nav-link" aria-label="Golang"><span class="icon iconfont icon-code" style=""></span>Golang<!----></a></div><div class="nav-item hide-in-mobile"><a href="/mysql/" class="nav-link" aria-label="MySQL"><span class="icon iconfont icon-mysql" style=""></span>MySQL<!----></a></div><div class="nav-item hide-in-mobile"><a href="/other/" class="nav-link" aria-label="杂项"><span class="icon iconfont icon-box" style=""></span>杂项<!----></a></div></nav><div class="nav-actions-wrapper"><!--[--><!----><!--]--><div class="nav-item"><!----></div><div class="nav-item"><a class="repo-link" href="https://github.com/sentiger/sentiger.github.io" target="_blank" rel="noopener noreferrer"><svg xmlns="http://www.w3.org/2000/svg" class="icon github-icon" viewbox="0 0 1024 1024" fill="currentColor" aria-label="github icon" style="width:1.25rem;height:1.25rem;vertical-align:middle;"><path d="M511.957 21.333C241.024 21.333 21.333 240.981 21.333 512c0 216.832 140.544 400.725 335.574 465.664 24.49 4.395 32.256-10.07 32.256-23.083 0-11.69.256-44.245 0-85.205-136.448 29.61-164.736-64.64-164.736-64.64-22.315-56.704-54.4-71.765-54.4-71.765-44.587-30.464 3.285-29.824 3.285-29.824 49.195 3.413 75.179 50.517 75.179 50.517 43.776 75.008 114.816 53.333 142.762 40.79 4.523-31.66 17.152-53.377 31.19-65.537-108.971-12.458-223.488-54.485-223.488-242.602 0-53.547 19.114-97.323 50.517-131.67-5.035-12.33-21.93-62.293 4.779-129.834 0 0 41.258-13.184 134.912 50.346a469.803 469.803 0 0 1 122.88-16.554c41.642.213 83.626 5.632 122.88 16.554 93.653-63.488 134.784-50.346 134.784-50.346 26.752 67.541 9.898 117.504 4.864 129.834 31.402 34.347 50.474 78.123 50.474 131.67 0 188.586-114.73 230.016-224.042 242.09 17.578 15.232 33.578 44.672 33.578 90.454v135.85c0 13.142 7.936 27.606 32.854 22.87C862.25 912.597 1002.667 728.747 1002.667 512c0-271.019-219.648-490.667-490.71-490.667z"></path></svg></a></div><!----><!----><button class="toggle-navbar-button" aria-label="Toggle Navbar" aria-expanded="false" aria-controls="nav-screen"><span class="button-container"><span class="button-top"></span><span class="button-middle"></span><span class="button-bottom"></span></span></button><!--[--><!----><!--]--></div></header><!----><!--]--><!----><div class="toggle-sidebar-wrapper"><span class="arrow left"></span></div><aside class="sidebar"><!--[--><!----><!--]--><ul class="sidebar-links"><li><!--[--><section class="sidebar-group"><button class="sidebar-heading clickable active"><span class="icon iconfont icon-build" style=""></span><span class="title">gRPC入门</span><span class="arrow down"></span></button><ul class="sidebar-links"><li><!--[--><a href="/grpc/get-started/00-buf.html" class="nav-link sidebar-link sidebar-page" aria-label="buf工具"><!---->buf工具<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/grpc/get-started/01-protoc-gen-go.html" class="nav-link sidebar-link sidebar-page" aria-label="protoc-gen-go生成go代码"><!---->protoc-gen-go生成go代码<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/grpc/get-started/02-grpc-install.html" class="nav-link sidebar-link sidebar-page" aria-label="grpc插件安装"><!---->grpc插件安装<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/grpc/get-started/03-wireshark.html" class="nav-link sidebar-link sidebar-page" aria-label="wireshark抓包gRPC"><!---->wireshark抓包gRPC<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a aria-current="page" href="/grpc/get-started/00-protoc.html" class="router-link-active router-link-exact-active nav-link active sidebar-link sidebar-page active" aria-label="protoc命令"><!---->protoc命令<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/grpc/get-started/00-protoc.html#命令帮助" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="命令帮助"><!---->命令帮助<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/grpc/get-started/00-protoc.html#proto-path" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="--proto_path"><!---->--proto_path<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/grpc/get-started/00-protoc.html#go-opt" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="go_opt"><!---->go_opt<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li></ul><!--]--></li></ul></section><!--]--></li><li><!--[--><section class="sidebar-group"><button class="sidebar-heading clickable"><span class="icon iconfont icon-number" style=""></span><span class="title">gRPC通信模式</span><span class="arrow right"></span></button><!----></section><!--]--></li></ul><!--[--><!----><!--]--></aside><!--[--><main class="page" id="main-content"><!--[--><!----><nav class="breadcrumb disable"></nav><div class="page-title"><h1><!---->protoc命令</h1><div class="page-info"><!----><span class="date-info" aria-label="写作日期" pageview="false"><svg xmlns="http://www.w3.org/2000/svg" class="icon calendar-icon" viewbox="0 0 1024 1024" fill="currentColor" aria-label="calendar icon"><path d="M716.4 110.137c0-18.753-14.72-33.473-33.472-33.473-18.753 0-33.473 14.72-33.473 33.473v33.473h66.993v-33.473zm-334.87 0c0-18.753-14.72-33.473-33.473-33.473s-33.52 14.72-33.52 33.473v33.473h66.993v-33.473zm468.81 33.52H716.4v100.465c0 18.753-14.72 33.473-33.472 33.473a33.145 33.145 0 01-33.473-33.473V143.657H381.53v100.465c0 18.753-14.72 33.473-33.473 33.473a33.145 33.145 0 01-33.473-33.473V143.657H180.6A134.314 134.314 0 0046.66 277.595v535.756A134.314 134.314 0 00180.6 947.289h669.74a134.36 134.36 0 00133.94-133.938V277.595a134.314 134.314 0 00-133.94-133.938zm33.473 267.877H147.126a33.145 33.145 0 01-33.473-33.473c0-18.752 14.72-33.473 33.473-33.473h736.687c18.752 0 33.472 14.72 33.472 33.473a33.145 33.145 0 01-33.472 33.473z"></path></svg><span>2023年3月9日</span><meta property="datePublished" content="2023-03-09T09:41:01.000Z"></span><span class="category-info" aria-label="分类" pageview="false"><svg xmlns="http://www.w3.org/2000/svg" class="icon category-icon" viewbox="0 0 1024 1024" fill="currentColor" aria-label="category icon"><path d="M148.41 106.992h282.176c22.263 0 40.31 18.048 40.31 40.31V429.48c0 22.263-18.047 40.31-40.31 40.31H148.41c-22.263 0-40.311-18.047-40.311-40.31V147.302c0-22.263 18.048-40.31 40.311-40.31zM147.556 553.478H429.73c22.263 0 40.311 18.048 40.311 40.31v282.176c0 22.263-18.048 40.312-40.31 40.312H147.555c-22.263 0-40.311-18.049-40.311-40.312V593.79c0-22.263 18.048-40.311 40.31-40.311zM593.927 106.992h282.176c22.263 0 40.31 18.048 40.31 40.31V429.48c0 22.263-18.047 40.31-40.31 40.31H593.927c-22.263 0-40.311-18.047-40.311-40.31V147.302c0-22.263 18.048-40.31 40.31-40.31zM730.22 920.502H623.926c-40.925 0-74.22-33.388-74.22-74.425V623.992c0-41.038 33.387-74.424 74.425-74.424h222.085c41.038 0 74.424 33.226 74.424 74.067v114.233c0 10.244-8.304 18.548-18.547 18.548s-18.548-8.304-18.548-18.548V623.635c0-20.388-16.746-36.974-37.33-36.974H624.13c-20.585 0-37.331 16.747-37.331 37.33v222.086c0 20.585 16.654 37.331 37.126 37.331H730.22c10.243 0 18.547 8.304 18.547 18.547 0 10.244-8.304 18.547-18.547 18.547z"></path></svg><ul class="categories-wrapper"><li class="category clickable" role="navigation">grpc</li><meta property="articleSection" content="grpc"></ul></span><!----></div><hr></div><div class="toc-place-holder"><aside id="toc"><div class="toc-header">此页内容</div><div class="toc-wrapper"><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/grpc/get-started/00-protoc.html#命令帮助" class="router-link-active router-link-exact-active toc-link level2">命令帮助</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/grpc/get-started/00-protoc.html#proto-path" class="router-link-active router-link-exact-active toc-link level3">--proto_path</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/grpc/get-started/00-protoc.html#go-opt" class="router-link-active router-link-exact-active toc-link level3">go_opt</a></li><!----><!--]--></ul><!--]--></ul></div></aside></div><!----><div class="theme-hope-content"><div><p>使用protoc命令的时候，有很多参数，接下来具体介绍下参数的作用以及使用场景</p><h2 id="命令帮助" tabindex="-1"><a class="header-anchor" href="#命令帮助" aria-hidden="true">#</a> 命令帮助</h2><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>Usage: protoc [OPTION] PROTO_FILES
Parse PROTO_FILES and generate output based on the options given:
  -IPATH, --proto_path=PATH   指定protoc定义的源文件目录位置，会在这个目录下进行查找，也就是protobuf根路径，可以指定多个，特别对于import的时候，会在这个目录下开始查找。可以多个参数指定多个，或者一个参数后面加:指定多个路径
  --encode=MESSAGE_TYPE       Read a text-format message of the given type
                              from standard input and write it in binary
                              to standard output.  The message type must
                              be defined in PROTO_FILES or their imports.
  --deterministic_output      When using --encode, ensure map fields are
                              deterministically ordered. Note that this order
                              is not canonical, and changes across builds or
                              releases of protoc.
  --decode=MESSAGE_TYPE       Read a binary message of the given type from
                              standard input and write it in text format
                              to standard output.  The message type must
                              be defined in PROTO_FILES or their imports.
  --decode_raw                Read an arbitrary protocol message from
                              standard input and write the raw tag/value
                              pairs in text format to standard output.  No
                              PROTO_FILES should be given when using this
                              flag.
  --descriptor_set_in=FILES   Specifies a delimited list of FILES
                              each containing a FileDescriptorSet (a
                              protocol buffer defined in descriptor.proto).
                              The FileDescriptor for each of the PROTO_FILES
                              provided will be loaded from these
                              FileDescriptorSets. If a FileDescriptor
                              appears multiple times, the first occurrence
                              will be used.
  -oFILE,                     Writes a FileDescriptorSet (a protocol buffer,
    --descriptor_set_out=FILE defined in descriptor.proto) containing all of
                              the input files to FILE.
  --include_imports           When using --descriptor_set_out, also include
                              all dependencies of the input files in the
                              set, so that the set is self-contained.
  --include_source_info       When using --descriptor_set_out, do not strip
                              SourceCodeInfo from the FileDescriptorProto.
                              This results in vastly larger descriptors that
                              include information about the original
                              location of each decl in the source file as
                              well as surrounding comments.
  --dependency_out=FILE       Write a dependency output file in the format
                              expected by make. This writes the transitive
                              set of input file paths to FILE
  --error_format=FORMAT       Set the format in which to print errors.
                              FORMAT may be &#39;gcc&#39; (the default) or &#39;msvs&#39;
                              (Microsoft Visual Studio format).
  --fatal_warnings            Make warnings be fatal (similar to -Werr in
                              gcc). This flag will make protoc return
                              with a non-zero exit code if any warnings
                              are generated.
  --print_free_field_numbers  Print the free field numbers of the messages
                              defined in the given proto files. Groups share
                              the same field number space with the parent
                              message. Extension ranges are counted as
                              occupied fields numbers.
  --plugin=EXECUTABLE         Specifies a plugin executable to use.
                              Normally, protoc searches the PATH for
                              plugins, but you may specify additional
                              executables not in the path using this flag.
                              Additionally, EXECUTABLE may be of the form
                              NAME=PATH, in which case the given plugin name
                              is mapped to the given executable even if
                              the executable&#39;s own name differs.
  --cpp_out=OUT_DIR           这是生成c++的目录，因为protoc默认支持很多语言，对于不支持的，则需要安装对应的插件如protoc-gen-go
 
  @&lt;filename&gt;                 需要编译的protobuf文件，把对应的protobuf文件编程成对应的语言文件。这个不会影响--proto_path参数，这个可以指定proto_path/路径或者直接是绝对路径。如果要指定*.proto这种，则不能参考proto_path组合，需指定绝对路径
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="proto-path" tabindex="-1"><a class="header-anchor" href="#proto-path" aria-hidden="true">#</a> --proto_path</h3><p>这个参数是比较重要的，这个是指定<code>protobuf</code>根目录所在的目录，默认是当前<code>./</code>，这个的用途在于在<code>protobuf</code>中<code>import</code>的时候，会以这个目录开始查找，而且加载其他的外部文件，也要指定外部文件路径在哪、</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>├── author
│   └── author.proto
└── book
    ├── book.proto
    └── price.proto
2 directories, 3 files


syntax = &quot;proto3&quot;;

// 声明protobuf中的包名
package book;

option go_package = &quot;sgrpc/proto/book&quot;; // 生成对应的go代码package取的是最后一个，然后如果别的项目要导入，则是直接使用这个import 包名

// 引入同目录下的protobuf文件（注意起始位置为proto_path的下层）
import &quot;author/author.proto&quot;;   # 所以这里引入了author下的，所以在编译的时候一定指定了一个--proto_path=xx  xx下面就是author目录
import &quot;book/price.proto&quot;;
import &quot;google/protobuf/timestamp.proto&quot;;
import &quot;user/user.proto&quot;;

message Book {
  string title = 1;
  author.Info authorInfo = 2;  // 需要带package前缀
  Price price = 3;  // 同目录下无需加包前缀
  google.protobuf.Timestamp date = 4; // 引入google中的扩展
  user.User user = 5;
}
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="go-opt" tabindex="-1"><a class="header-anchor" href="#go-opt" aria-hidden="true">#</a> go_opt</h3><div class="language-makefile ext-makefile line-numbers-mode"><pre class="language-makefile"><code>PROJECT<span class="token operator">=</span><span class="token string">&quot;sgrpc&quot;</span>

<span class="token builtin-target builtin">.PHONY</span><span class="token punctuation">:</span> pb

<span class="token comment"># 使用source_relative，则是会编译好的go文件的目录结构和pbfile源文件的目录结构一致</span>
<span class="token target symbol">pb_path_relative</span><span class="token punctuation">:</span>
	protoc -I<span class="token operator">=</span>./pbfile \
    --go_out<span class="token operator">=</span>./proto \
    --go_opt<span class="token operator">=</span>paths<span class="token operator">=</span>source_relative \
    book/book.proto author/author.proto

<span class="token comment"># 使用import，则编译好的目录是完全和go_package的目录结构一致，这个时候一般和--go_opt=module一起使用，去除前缀</span>
<span class="token target symbol">pb_path_import</span><span class="token punctuation">:</span>
	rm -rf proto
	protoc -I<span class="token operator">=</span>./pbfile<span class="token punctuation">:</span>./pb \
    --go_out<span class="token operator">=</span>./ \
    --go_opt<span class="token operator">=</span>paths<span class="token operator">=</span>import \
    --go_opt<span class="token operator">=</span>module<span class="token operator">=</span>sgrpc \
    ./pbfile/book/*.proto ./pbfile/author/*.proto	<span class="token comment"># 注意使用*匹配的时候，这里的路径一定要加全，而不能使用proto_path相对位置</span>

<span class="token target symbol">pb_path_other</span><span class="token punctuation">:</span>
	protoc -I<span class="token operator">=</span>./pbfile<span class="token punctuation">:</span>./pb \
        --go_out<span class="token operator">=</span>./ \
        --go_opt<span class="token operator">=</span>paths<span class="token operator">=</span>import \
        --go_opt<span class="token operator">=</span>module<span class="token operator">=</span>sgrpc \
        ./pbfile/book/*.proto ./pbfile/author/*.proto
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></div></div><!----><footer class="page-meta"><!----><div class="meta-item update-time"><span class="label">上次编辑于: </span><span class="info">2023/3/9 09:41:01</span></div><!----></footer><nav class="page-nav"><a href="/grpc/get-started/03-wireshark.html" class="nav-link prev" aria-label="wireshark抓包gRPC"><div class="hint"><span class="arrow left"></span>上一页</div><div class="link"><!---->wireshark抓包gRPC</div></a><!----></nav><!----><!----><!--]--></main><!--]--><footer class="footer-wrapper"><div class="footer"></div><div class="copyright">Copyright © 2023 Sentiger</div></footer><!--]--></div><!--]--><!----><!--]--></div>
    <script type="module" src="/assets/app.03f8d544.js" defer></script>
  </body>
</html>
